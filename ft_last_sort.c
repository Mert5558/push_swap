/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_last_sort.c                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: merdal <merdal@student.42.fr>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/04/01 13:22:39 by merdal            #+#    #+#             */
/*   Updated: 2024/04/04 14:43:01 by merdal           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "push_swap.h"

void ft_last_sort(t_stack **a, t_stack **b)
{
	int *chunk_2;
	int chunk_2_size = 50;

	chunk_2 = ft_create_chunk(b, chunk_2_size);

	ft_pa(a, b, 0);
	ft_pa(a, b, 0);
	
	while (*b != NULL)
	{
		while (ft_is_chunk_finished(b, chunk_2) == 0)
		{
			if (ft_finished_top(b, chunk_2) == 0)
				ft_choose(a, b, chunk_2);

			else if (ft_finished_bottom(b, chunk_2) == 0)
				ft_choose_bottom(a, b, chunk_2);

			ft_sort_a(a, b);
		}
		chunk_2 = ft_create_chunk(b, chunk_2_size);
	}
	free(chunk_2); 
	ft_smallest_to_top(a);
}

// 260 492 189 268 66 156 469 448 197 374 57 325 228 441 477 459 287 17 332 165 24 468 239 112 150 143 39 286 456 54 322 169 125 19 436 62 96 144 178 170 81 181 100 347 490 390 71 318 114 137 266 136 131 330 373 207 452 191 103 402 246 110 291 243 58 487 254 91 12 162 46 283 485 387 453 320 142 172 225 120 344 377 163 259 312 457 378 317 439 14 124 336 153 147 4 368 179 87 357 229 116 79 342 339 217 463 354 67 440 273 212 432 324 55 78 215 85 129 167 224 194 43 233 176 53 274 471 127 282 94 90 310 419 113 484 231 245 248 65 89 275 139 460 218 206 437 284 424 223 313 95 365 198 88 306 41 98 364 133 265 152 168 427 171 276 48 151 188 383 134 366 84 416 13 216 447 329 251 359 369 45 257 355 22 135 462 289 222 220 356 213 363 33 472 392 285 376 159 384 295 104 49 102 401 180 241 118 101 426 93 107 385 410 414 421 192 483 349 56 182 258 434 323 23 119 200 166 36 433 389 331 495 370 499 465 334 173 74 458 149 109 205 234 115 288 86 464 429 428 214 350 154 140 478 77 380 126 122 326 446 278 343 297 467 196 281 375 348 280 61 327 146 474 16 480 1 219 451 253 493 18 406 82 240 185 44 155 442 328 63 422 184 381 314 30 455 190 263 367 25 420 161 262 80 299 99 372 371 309 7 247 226 252 294 315 475 338 362 449 32 491 304 186 117 479 249 466 498 488 238 40 341 227 450 52 76 301 37 476 177 195 308 97 292 230 158 204 388 201 34 271 60 311 111 123 5 270 9 400 236 393 358 272 321 69 193 38 423 345 303 340 47 105 26 28 209 199 407 408 482 486 435 500 296 250 3 83 72 145 175 473 261 157 235 391 396 164 397 255 395 50 337 316 494 443 160 293 202 361 386 211 269 8 409 31 68 438 404 461 300 403 148 405 106 42 264 2 256 267 35 279 70 92 210 319 187 130 418 11 27 352 302 351 470 10 305 360 208 183 413 20 379 298 333 481 431 108 411 174 444 6 221 121 394 203 307 445 417 29 497 64 415 412 128 399 454 335 138 290 141 59 496 277 398 353 232 75 244 346 430 15 51 237 382 73 425 132 242 21 489 